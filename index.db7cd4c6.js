function i(i,e,s,n){Object.defineProperty(i,e,{get:s,set:n,enumerable:!0,configurable:!0})}function e(i){return i&&i.__esModule?i.default:i}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},r=s.parcelRequire77f2;null==r&&((r=function(i){if(i in n)return n[i].exports;if(i in t){var e=t[i];delete t[i];var s={id:i,exports:{}};return n[i]=s,e.call(s.exports,s,s.exports),s.exports}var r=new Error("Cannot find module '"+i+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(i,e){t[i]=e},s.parcelRequire77f2=r),r.register("bXuNP",(function(e,s){var n,t;i(e.exports,"register",(()=>n),(i=>n=i)),i(e.exports,"resolve",(()=>t),(i=>t=i));var r={};n=function(i){for(var e=Object.keys(i),s=0;s<e.length;s++)r[e[s]]=i[e[s]]},t=function(i){var e=r[i];if(null==e)throw new Error("Could not resolve bundle with id "+i);return e}})),r("bXuNP").register(JSON.parse('{"6qpDd":"index.db7cd4c6.js","f0l4j":"wall-frame.c502dc68.png","5pFhl":"floor.3354bec9.png","epMPL":"angel-right.e91cb588.png","3U7TB":"angel-left.0c005157.png","hgygF":"angel-down.4cd5535b.png","idrqs":"angel-up.f0b009d4.png","946b5":"doc-right.d8b29833.png","01mcB":"doc-left.bc7c292c.png","22u3L":"doc-up.0069c93e.png","iyKzN":"doc-down.1139ec31.png","fhylE":"tardis.bd7af273.png","17X6N":"tardis-glowing.cf475750.png","iCks3":"tardis-vanishing1.34888314.png","4Ldw1":"tardis-vanishing2.9f359b83.png","kCKJs":"tardis-vanishing3.71003deb.png","9wONu":"tardis-vanishing4.2779d16c.png","eL4h6":"tardis-vanishing5.c3179310.png","DQjR3":"tardis-vanishing6.fc29c506.png","dDY7o":"tardis-vanishing7.e11dd270.png","imqZu":"tardis-vanishing8.34b624a8.png","6Nmrd":"tardis-vanishing9.422beb80.png","4SeRG":"tardis-vanished.92b8a686.png","76KnA":"sonic-screwdriver.5a360144.png","5ogZ8":"banana.f4db1deb.png","57VzN":"spoon.f7033ecc.png"}'));class o{constructor(i){this.position=i}update(i){}draw(i,e){}keyboard_event(i){}}var W;r.register("kPq84",(function(e,s){var n;i(e.exports,"getBundleURL",(()=>n),(i=>n=i));var t={};function r(i){return(""+i).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(i){var e=t[i];return e||(e=function(){try{throw new Error}catch(e){var i=(""+e.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(i)return r(i[2])}return"/"}(),t[i]=e),e}})),W=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("f0l4j");var a;a=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("5pFhl");let g="\nWWWWWWWWWWWWWWWWWWWWWWWWWW\nW......W.............W.W.W\nW.W.WWWWWWWWWWWW.WWW.W.W.W\nW.W..W...W....W....W.W.W.W\nWWW.WW.W.W.W.WWW.W.W.W...W\nW.W....WWWWW...W.W.W.W.W.W\nW.W.W....W....WW.W.W...W.W\nW...WWWW...WW.W..W.WWW.W.W\nW.W.W..WWWW.WWWW.W...W.W.W\nW.W...W...W......W.WWW.WWW\nW.WWW.W.WWW.W.W.WW.W....WW\nW...WWW...W.WWW.W..WWWW.WW\nWW.WW.WWW...W...WW.W..W.WW\nWW..W...WWWWWW...WWWW.W..W\nWW.WW.WWW...W..W....W.WW.W\nW...W.....WWWWWWWWW.W....W\nW.W.WW.WW...W.......WW.WWW\nW.W.....WWW.W.WWWWWWW....W\nWWWW.WW...W.W..W......WW.W\nW.....W.W.WWWW.W.WWWW..W.W\nW.W.W.W.W......W....WWWW.W\nW.W.W.W.WWWWWWWWWWW...W..W\nW.W.W...W......W..W.W.WWWW\nW.W.WWWWW.WWWWWW.WW.W.W..W\nW.W..............W..W....W\nWWWWWWWWWWWWWWWWWWWWWWWWWW\n";class h extends o{constructor(i){super({x:0,y:0}),this.canvasSize={width:1020,height:1024},this.blockSize=40,this.gridSize={x:Math.round(this.canvasSize.width/this.blockSize),y:Math.round(this.canvasSize.height/this.blockSize)},this.origin={x:0,y:0},this.coords,this.matrix=g.match(/.{1,26}/g).map((i=>i.split(""))),this.wallImg=new Image,this.wallImg.src=e(W),this.pathImg=new Image,this.pathImg.src=e(a)}update(){}keyboard_event(){}draw(i,e){this.matrix.forEach(((e,s)=>{this.origin.y=s;e.forEach(((e,s)=>{switch(this.origin.x=s,this.coords={x:this.origin.x*this.blockSize,y:this.origin.y*this.blockSize},e){case"W":i.drawImage(this.wallImg,this.coords.x,this.coords.y,this.blockSize,this.blockSize);break;case".":i.drawImage(this.pathImg,this.coords.x,this.coords.y,this.blockSize,this.blockSize)}}))}))}isCollision(i,e){return"W"===this.matrix[e][i]}}var d;d=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("epMPL");var c;c=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("3U7TB");var y;y=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("hgygF");var l;l=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("idrqs");class x extends o{constructor(i){super(i),this.angelSize=40,this.newPosition={x:i.x,y:i.y},this.angelRightImg=new Image,this.angelRightImg.src=e(d),this.angelLeftImg=new Image,this.angelLeftImg.src=e(c),this.angelDownImg=new Image,this.angelDownImg.src=e(y),this.angelUpImg=new Image,this.angelUpImg.src=e(l),this.currentAngelImg=this.angelLeftImg}update(){}keyboard_event(i){let e,s,n=new h({x:0,y:0}),t=this.newPosition,r=this.angelSize;switch(i){case"ArrowDown":t={x:t.x+r,y:t.y},e=t.x/r,s=t.y/r,n.isCollision(e,s)||(this.newPosition.x+=r),this.currentAngelImg=this.angelRightImg;break;case"ArrowRight":t={x:t.x-r,y:t.y},e=t.x/r,s=t.y/r,n.isCollision(e,s)||(this.newPosition.x-=r),this.currentAngelImg=this.angelLeftImg;break;case"ArrowUp":t={x:t.x,y:t.y+r},e=t.x/r,s=t.y/r,n.isCollision(e,s)||(this.newPosition.y+=r),this.currentAngelImg=this.angelDownImg;break;case"ArrowLeft":t={x:t.x,y:t.y-r},e=t.x/r,s=t.y/r,n.isCollision(e,s)||(this.newPosition.y-=r),this.currentAngelImg=this.angelUpImg}}getPos(){return this.newPosition}draw(i,e){let s=this.angelSize,n=this.newPosition,t=this.currentAngelImg;i.drawImage(t,n.x,n.y,s,s)}}var u;u=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("946b5");var w;w=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("01mcB");var m;m=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("22u3L");var p;p=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("iyKzN");class _ extends o{constructor(i){super(i),this.docSize=40,this.newDocPosition={x:i.x,y:i.y},this.docRightImg=new Image,this.docRightImg.src=e(u),this.docLeftImg=new Image,this.docLeftImg.src=e(w),this.docDownImg=new Image,this.docDownImg.src=e(p),this.docUpImg=new Image,this.docUpImg.src=e(m),this.frameCount=0,this.currentImg=this.docRightImg}update(){}keyboard_event(i){let e,s,n=new h({x:0,y:0}),t=this.newDocPosition,r=this.docSize;switch(i){case"ArrowRight":t={x:t.x+r,y:t.y},e=t.x/r,s=t.y/r,n.isCollision(e,s)||(this.newDocPosition.x+=r);const i=[{src_origin:{x:10,y:0},size:{x:40,y:60}},{src_origin:{x:75,y:0},size:{x:40,y:60}},{src_origin:{x:140,y:0},size:{x:40,y:60}},{src_origin:{x:205,y:0},size:{x:40,y:60}},{src_origin:{x:265,y:0},size:{x:40,y:60}},{src_origin:{x:330,y:0},size:{x:40,y:60}},{src_origin:{x:395,y:0},size:{x:40,y:60}},{src_origin:{x:460,y:0},size:{x:40,y:60}},{src_origin:{x:525,y:0},size:{x:40,y:60}}];this.currentFrames=i,this.currentImg=this.docRightImg;break;case"ArrowLeft":t={x:t.x-r,y:t.y},e=t.x/r,s=t.y/r,n.isCollision(e,s)||(this.newDocPosition.x-=r);const o=[{src_origin:{x:10,y:0},size:{x:40,y:60}},{src_origin:{x:75,y:0},size:{x:40,y:60}},{src_origin:{x:140,y:0},size:{x:40,y:60}},{src_origin:{x:205,y:0},size:{x:40,y:60}},{src_origin:{x:265,y:0},size:{x:40,y:60}},{src_origin:{x:330,y:0},size:{x:40,y:60}},{src_origin:{x:395,y:0},size:{x:40,y:60}},{src_origin:{x:460,y:0},size:{x:40,y:60}},{src_origin:{x:525,y:0},size:{x:40,y:60}}];this.currentFrames=o,this.currentImg=this.docLeftImg;break;case"ArrowDown":t={x:t.x,y:t.y+r},e=t.x/r,s=t.y/r,n.isCollision(e,s)||(this.newDocPosition.y+=r);const W=[{src_origin:{x:10,y:0},size:{x:40,y:60}},{src_origin:{x:75,y:0},size:{x:40,y:60}},{src_origin:{x:140,y:0},size:{x:40,y:60}},{src_origin:{x:205,y:0},size:{x:40,y:60}},{src_origin:{x:265,y:0},size:{x:40,y:60}},{src_origin:{x:330,y:0},size:{x:40,y:60}},{src_origin:{x:395,y:0},size:{x:40,y:60}},{src_origin:{x:460,y:0},size:{x:40,y:60}},{src_origin:{x:525,y:0},size:{x:40,y:60}}];this.currentFrames=W,this.currentImg=this.docDownImg;break;case"ArrowUp":t={x:t.x,y:t.y-r},e=t.x/r,s=t.y/r,n.isCollision(e,s)||(this.newDocPosition.y-=r);const a=[{src_origin:{x:10,y:0},size:{x:40,y:60}},{src_origin:{x:75,y:0},size:{x:40,y:60}},{src_origin:{x:140,y:0},size:{x:40,y:60}},{src_origin:{x:205,y:0},size:{x:40,y:60}},{src_origin:{x:265,y:0},size:{x:40,y:60}},{src_origin:{x:330,y:0},size:{x:40,y:60}},{src_origin:{x:395,y:0},size:{x:40,y:60}},{src_origin:{x:460,y:0},size:{x:40,y:60}},{src_origin:{x:525,y:0},size:{x:40,y:60}}];this.currentFrames=a,this.currentImg=this.docUpImg}}getPos(){return this.newDocPosition}draw(i,e){let s=this.docSize,n=this.newDocPosition;this.currentFrames=[{src_origin:{x:10,y:0},size:{x:40,y:60}},{src_origin:{x:75,y:0},size:{x:40,y:60}},{src_origin:{x:140,y:0},size:{x:40,y:60}},{src_origin:{x:205,y:0},size:{x:40,y:60}},{src_origin:{x:265,y:0},size:{x:40,y:60}},{src_origin:{x:330,y:0},size:{x:40,y:60}},{src_origin:{x:395,y:0},size:{x:40,y:60}},{src_origin:{x:460,y:0},size:{x:40,y:60}},{src_origin:{x:525,y:0},size:{x:40,y:60}}];let t=Math.floor(10*this.frameCount),r=this.currentFrames[t%this.currentFrames.length];i.drawImage(this.currentImg,r.src_origin.x,r.src_origin.y,r.size.x,r.size.y,n.x,n.y,s,s),this.frameCount+=e}}class b extends o{update(){}keyboard_event(){}draw(i,e){const s=(1/e).toFixed(2);i.font="18px Arial",i.fillStyle="silver",i.fillRect(3,3,100,20),i.fillStyle="black",i.fillText(`FPS:${s}`,this.position.x,this.position.y)}}var v;v=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("fhylE");var I;I=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("17X6N");var P;P=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("iCks3");var f;f=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("4Ldw1");var z;z=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("kCKJs");var R;R=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("9wONu");var k;k=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("eL4h6");var q;q=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("DQjR3");var S;S=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("dDY7o");var H;H=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("imqZu");var D;D=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("6Nmrd");var A;A=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("4SeRG");class L extends o{constructor(i){super(i),this.origin={x:i.x,y:i.y},this.tardisSize={x:40,y:80},this.tardisImg=new Image,this.tardisImg.src=e(v),this.tardisGlowing=new Image,this.tardisGlowing.src=e(I),this.tardisVanishing1=new Image,this.tardisVanishing1.src=e(P),this.tardisVanishing2=new Image,this.tardisVanishing2.src=e(f),this.tardisVanishing3=new Image,this.tardisVanishing3.src=e(z),this.tardisVanishing4=new Image,this.tardisVanishing4.src=e(R),this.tardisVanishing5=new Image,this.tardisVanishing5.src=e(k),this.tardisVanishing6=new Image,this.tardisVanishing6.src=e(q),this.tardisVanishing7=new Image,this.tardisVanishing7.src=e(S),this.tardisVanishing8=new Image,this.tardisVanishing8.src=e(H),this.tardisVanishing9=new Image,this.tardisVanishing9.src=e(D),this.tardisVanished=new Image,this.tardisVanished.src=e(A),this.currentImg=this.tardisImg,this.tardisEndImg=[this.tardisGlowing,this.tardisVanishing1,this.tardisVanishing2,this.tardisVanishing3,this.tardisVanishing4,this.tardisVanishing5,this.tardisVanishing6,this.tardisVanishing7,this.tardisVanishing8,this.tardisVanishing9,this.tardisVanished]}update(){}keyboard_event(i){}setImg(i){return this.currentImg=i}draw(i,e){i.drawImage(this.currentImg,this.origin.x,this.origin.y,this.tardisSize.x,this.tardisSize.y)}}var E;E=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("76KnA");var F;F=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("5ogZ8");var N;N=r("kPq84").getBundleURL("6qpDd")+r("bXuNP").resolve("57VzN");class U extends o{constructor(i,s){super(i),this.tool=s,this.origin={x:i.x,y:i.y},this.screwdriverImg=new Image,this.screwdriverImg.src=e(E),this.bananaImg=new Image,this.bananaImg.src=e(F),this.spoonImg=new Image,this.spoonImg.src=e(N)}update(){}keyboard_event(i){}getPos(){return this.origin}draw(i,e){"screwdriver"==this.tool?i.drawImage(this.screwdriverImg,this.origin.x,this.origin.y,40,40):"banana"==this.tool?i.drawImage(this.bananaImg,this.origin.x,this.origin.y,40,40):"spoon"==this.tool&&i.drawImage(this.spoonImg,this.origin.x,this.origin.y,40,40)}}window.onload=()=>{var i=document.getElementById("canvas").getContext("2d");let e=new _({x:40,y:40}),s=new h({x:0,y:0}),n=new b({x:10,y:20}),t=new L({x:960,y:920}),r=new U({x:400,y:160},"screwdriver"),o=new U({x:240,y:320},"banana"),W=new U({x:520,y:560},"spoon"),a=[s,n,e,t,r,o,W,new x({x:120,y:360}),new x({x:480,y:240}),new x({x:200,y:880}),new x({x:800,y:240}),new x({x:560,y:800}),new x({x:880,y:680})];let g=0;const d=s=>{let n=(s-g)/1e3;g=s,a.forEach((i=>i.update(n))),i.clearRect(0,0,1020,1024),a.forEach((e=>{i.save(),e.draw(i,n),i.restore()})),r.getPos().x==e.getPos().x&&r.getPos().y==e.getPos().y?(r=new U({x:120,y:0},"screwdriver"),a[4]=r):o.getPos().x==e.getPos().x&&o.getPos().y==e.getPos().y?(o=new U({x:160,y:0},"banana"),a[5]=o):W.getPos().x==e.getPos().x&&W.getPos().y==e.getPos().y&&(W=new U({x:200,y:0},"spoon"),a[6]=W),(()=>{if(0==r.getPos().y&&0==o.getPos().y&&0==W.getPos().y)return!1;for(let i=0;i<a.length;i++)if(a[i]instanceof x&&a[i].getPos().x==e.getPos().x&&a[i].getPos().y==e.getPos().y)return!0})()&&(e=new _({x:40,y:40}),a[2]=e),(async()=>{if(e.getPos().x==t.origin.x&&e.getPos().y==t.origin.y+40){const s=a.indexOf(e);if(s>-1){a.splice(s,1);for(let e=0;e<t.tardisEndImg.length;e++)t.setImg(t.tardisEndImg[e]),t.draw(i),await new Promise((i=>setTimeout(i,500)))}}})(),window.requestAnimationFrame(d)};window.requestAnimationFrame(d),document.body.addEventListener("keydown",(i=>{a.forEach((e=>{e.keyboard_event&&e.keyboard_event(i.key)}))}))};
//# sourceMappingURL=index.db7cd4c6.js.map
