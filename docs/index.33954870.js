function i(i,e,s,r){Object.defineProperty(i,e,{get:s,set:r,enumerable:!0,configurable:!0})}function e(i){return i&&i.__esModule?i.default:i}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},t={},W=s.parcelRequire77f2;null==W&&((W=function(i){if(i in r)return r[i].exports;if(i in t){var e=t[i];delete t[i];var s={id:i,exports:{}};return r[i]=s,e.call(s.exports,s,s.exports),s.exports}var W=new Error("Cannot find module '"+i+"'");throw W.code="MODULE_NOT_FOUND",W}).register=function(i,e){t[i]=e},s.parcelRequire77f2=W),W.register("bXuNP",(function(e,s){var r,t;i(e.exports,"register",(()=>r),(i=>r=i)),i(e.exports,"resolve",(()=>t),(i=>t=i));var W={};r=function(i){for(var e=Object.keys(i),s=0;s<e.length;s++)W[e[s]]=i[e[s]]},t=function(i){var e=W[i];if(null==e)throw new Error("Could not resolve bundle with id "+i);return e}})),W("bXuNP").register(JSON.parse('{"6qpDd":"index.33954870.js","f0l4j":"wall-frame.c502dc68.png","5pFhl":"floor.3354bec9.png","epMPL":"angel-right.e91cb588.png","3U7TB":"angel-left.0c005157.png","hgygF":"angel-down.4cd5535b.png","idrqs":"angel-up.f0b009d4.png","946b5":"doc-right.d8b29833.png","01mcB":"doc-left.bc7c292c.png","22u3L":"doc-up.0069c93e.png","iyKzN":"doc-down.1139ec31.png","7JVPB":"tardis.bd7af273.png"}'));class n{constructor(i){this.position=i}update(i){}draw(i,e){}keyboard_event(i){}}var o;W.register("kPq84",(function(e,s){var r;i(e.exports,"getBundleURL",(()=>r),(i=>r=i));var t={};function W(i){return(""+i).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(i){var e=t[i];return e||(e=function(){try{throw new Error}catch(e){var i=(""+e.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(i)return W(i[2])}return"/"}(),t[i]=e),e}})),o=W("kPq84").getBundleURL("6qpDd")+W("bXuNP").resolve("f0l4j");var g;g=W("kPq84").getBundleURL("6qpDd")+W("bXuNP").resolve("5pFhl");let c="\nWWWWWWWWWWWWWWWWWWWWWWWWWW\nW......W.............W.W.W\nW.W.WWWWWWWWWWWW.WWW.W.W.W\nW.W..W...W....W....W.W.W.W\nWWW.WW.W.W.W.WWW.W.W.W...W\nW.W....WWWWW...W.W.W.W.W.W\nW.W.W....W....WW.W.W...W.W\nW...WWWW...WW.W..W.WWW.W.W\nW.W.W..WWWW.WWWW.W...W.W.W\nW.W...W...W......W.WWW.WWW\nW.WWW.W.WWW.W.W.WW.W....WW\nW...WWW...W.WWW.W..WWWW.WW\nWW.WW.WWW...W...WW.W..W.WW\nWW..W...WWWWWW...WWWW.W..W\nWW.WW.WWW...W..W....W.WW.W\nW...W.....WWWWWWWWW.W....W\nW.W.WW.WW...W.......WW.WWW\nW.W.....WWW.W.WWWWWWW....W\nWWWW.WW...W.W..W......WW.W\nW.....W.W.WWWW.W.WWWW..W.W\nW.W.W.W.W......W....WWWW.W\nW.W.W.W.WWWWWWWWWWW...W..W\nW.W.W...W......W..W.W.WWWW\nW.W.WWWWW.WWWWWW.WW.W.W..W\nW.W..............W..W..t.W\nWWWWWWWWWWWWWWWWWWWWWWWWWW\n";class a extends n{constructor(i){super({x:0,y:0}),this.canvasSize={width:1020,height:1024},this.blockSize=40,this.gridSize={x:Math.round(this.canvasSize.width/this.blockSize),y:Math.round(this.canvasSize.height/this.blockSize)},this.origin={x:0,y:0},this.coords,this.matrix=c.match(/.{1,26}/g).map((i=>i.split(""))),this.wallImg=new Image,this.wallImg.src=e(o),this.pathImg=new Image,this.pathImg.src=e(g)}update(){}keyboard_event(){}draw(i,e){this.matrix.forEach(((e,s)=>{this.origin.y=s;e.forEach(((e,s)=>{switch(this.origin.x=s,this.coords={x:this.origin.x*this.blockSize,y:this.origin.y*this.blockSize},e){case"W":i.drawImage(this.wallImg,this.coords.x,this.coords.y,this.blockSize,this.blockSize);break;case".":case"t":i.drawImage(this.pathImg,this.coords.x,this.coords.y,this.blockSize,this.blockSize)}}))}))}isCollision(i,e){return"W"===this.matrix[e][i]}winning(i,e){return"t"===this.matrix[e][i]}}var y;y=W("kPq84").getBundleURL("6qpDd")+W("bXuNP").resolve("epMPL");var x;x=W("kPq84").getBundleURL("6qpDd")+W("bXuNP").resolve("3U7TB");var h;h=W("kPq84").getBundleURL("6qpDd")+W("bXuNP").resolve("hgygF");var l;l=W("kPq84").getBundleURL("6qpDd")+W("bXuNP").resolve("idrqs");class d extends n{constructor(i){super(i),this.angelSize=40,this.newPosition={x:i.x,y:i.y},this.angelRightImg=new Image,this.angelRightImg.src=e(y),this.angelLeftImg=new Image,this.angelLeftImg.src=e(x),this.angelDownImg=new Image,this.angelDownImg.src=e(h),this.angelUpImg=new Image,this.angelUpImg.src=e(l),this.currentAngelImg=this.angelLeftImg}update(){}keyboard_event(i){let e,s,r=new a({x:0,y:0}),t=this.newPosition,W=this.angelSize;switch(i){case"ArrowDown":t={x:t.x+W,y:t.y},e=t.x/W,s=t.y/W,r.isCollision(e,s)||(this.newPosition.x+=W),this.currentAngelImg=this.angelRightImg;break;case"ArrowRight":t={x:t.x-W,y:t.y},e=t.x/W,s=t.y/W,r.isCollision(e,s)||(this.newPosition.x-=W),this.currentAngelImg=this.angelLeftImg;break;case"ArrowUp":t={x:t.x,y:t.y+W},e=t.x/W,s=t.y/W,r.isCollision(e,s)||(this.newPosition.y+=W),this.currentAngelImg=this.angelDownImg;break;case"ArrowLeft":t={x:t.x,y:t.y-W},e=t.x/W,s=t.y/W,r.isCollision(e,s)||(this.newPosition.y-=W),this.currentAngelImg=this.angelUpImg}}getPos(){return this.newPosition}draw(i,e){let s=this.angelSize,r=this.newPosition,t=this.currentAngelImg;i.drawImage(t,r.x,r.y,s,s)}}var u;u=W("kPq84").getBundleURL("6qpDd")+W("bXuNP").resolve("946b5");var w;w=W("kPq84").getBundleURL("6qpDd")+W("bXuNP").resolve("01mcB");var m;m=W("kPq84").getBundleURL("6qpDd")+W("bXuNP").resolve("22u3L");var _;_=W("kPq84").getBundleURL("6qpDd")+W("bXuNP").resolve("iyKzN");class f extends n{constructor(i){super(i),this.docSize=40,this.newDocPosition={x:i.x,y:i.y},this.docRightImg=new Image,this.docRightImg.src=e(u),this.docLeftImg=new Image,this.docLeftImg.src=e(w),this.docDownImg=new Image,this.docDownImg.src=e(_),this.docUpImg=new Image,this.docUpImg.src=e(m),this.frameCount=0,this.currentImg=this.docRightImg}update(){}keyboard_event(i){let e,s,r=new a({x:0,y:0}),t=this.newDocPosition,W=this.docSize;if(r.winning(this.newDocPosition.x/W,this.newDocPosition.y/W))window.alert("You won!");else switch(i){case"ArrowRight":t={x:t.x+W,y:t.y},e=t.x/W,s=t.y/W,r.isCollision(e,s)||(this.newDocPosition.x+=W);const i=[{src_origin:{x:10,y:0},size:{x:40,y:60}},{src_origin:{x:75,y:0},size:{x:40,y:60}},{src_origin:{x:140,y:0},size:{x:40,y:60}},{src_origin:{x:205,y:0},size:{x:40,y:60}},{src_origin:{x:265,y:0},size:{x:40,y:60}},{src_origin:{x:330,y:0},size:{x:40,y:60}},{src_origin:{x:395,y:0},size:{x:40,y:60}},{src_origin:{x:460,y:0},size:{x:40,y:60}},{src_origin:{x:525,y:0},size:{x:40,y:60}}];this.currentFrames=i,this.currentImg=this.docRightImg;break;case"ArrowLeft":t={x:t.x-W,y:t.y},e=t.x/W,s=t.y/W,r.isCollision(e,s)||(this.newDocPosition.x-=W);const n=[{src_origin:{x:10,y:0},size:{x:40,y:60}},{src_origin:{x:75,y:0},size:{x:40,y:60}},{src_origin:{x:140,y:0},size:{x:40,y:60}},{src_origin:{x:205,y:0},size:{x:40,y:60}},{src_origin:{x:265,y:0},size:{x:40,y:60}},{src_origin:{x:330,y:0},size:{x:40,y:60}},{src_origin:{x:395,y:0},size:{x:40,y:60}},{src_origin:{x:460,y:0},size:{x:40,y:60}},{src_origin:{x:525,y:0},size:{x:40,y:60}}];this.currentFrames=n,this.currentImg=this.docLeftImg;break;case"ArrowDown":t={x:t.x,y:t.y+W},e=t.x/W,s=t.y/W,r.isCollision(e,s)||(this.newDocPosition.y+=W);const o=[{src_origin:{x:10,y:0},size:{x:40,y:60}},{src_origin:{x:75,y:0},size:{x:40,y:60}},{src_origin:{x:140,y:0},size:{x:40,y:60}},{src_origin:{x:205,y:0},size:{x:40,y:60}},{src_origin:{x:265,y:0},size:{x:40,y:60}},{src_origin:{x:330,y:0},size:{x:40,y:60}},{src_origin:{x:395,y:0},size:{x:40,y:60}},{src_origin:{x:460,y:0},size:{x:40,y:60}},{src_origin:{x:525,y:0},size:{x:40,y:60}}];this.currentFrames=o,this.currentImg=this.docDownImg;break;case"ArrowUp":t={x:t.x,y:t.y-W},e=t.x/W,s=t.y/W,r.isCollision(e,s)||(this.newDocPosition.y-=W);const g=[{src_origin:{x:10,y:0},size:{x:40,y:60}},{src_origin:{x:75,y:0},size:{x:40,y:60}},{src_origin:{x:140,y:0},size:{x:40,y:60}},{src_origin:{x:205,y:0},size:{x:40,y:60}},{src_origin:{x:265,y:0},size:{x:40,y:60}},{src_origin:{x:330,y:0},size:{x:40,y:60}},{src_origin:{x:395,y:0},size:{x:40,y:60}},{src_origin:{x:460,y:0},size:{x:40,y:60}},{src_origin:{x:525,y:0},size:{x:40,y:60}}];this.currentFrames=g,this.currentImg=this.docUpImg}}getPos(){return this.newDocPosition}draw(i,e){let s=this.docSize,r=this.newDocPosition;this.currentFrames=[{src_origin:{x:10,y:0},size:{x:40,y:60}},{src_origin:{x:75,y:0},size:{x:40,y:60}},{src_origin:{x:140,y:0},size:{x:40,y:60}},{src_origin:{x:205,y:0},size:{x:40,y:60}},{src_origin:{x:265,y:0},size:{x:40,y:60}},{src_origin:{x:330,y:0},size:{x:40,y:60}},{src_origin:{x:395,y:0},size:{x:40,y:60}},{src_origin:{x:460,y:0},size:{x:40,y:60}},{src_origin:{x:525,y:0},size:{x:40,y:60}}];let t=Math.floor(10*this.frameCount),W=this.currentFrames[t%this.currentFrames.length];i.drawImage(this.currentImg,W.src_origin.x,W.src_origin.y,W.size.x,W.size.y,r.x,r.y,s,s),this.frameCount+=e}}class p extends n{update(){}keyboard_event(){}draw(i,e){const s=(1/e).toFixed(2);i.font="18px Arial",i.fillStyle="silver",i.fillRect(3,3,100,20),i.fillStyle="black",i.fillText(`FPS:${s}`,this.position.x,this.position.y)}}var z;z=W("kPq84").getBundleURL("6qpDd")+W("bXuNP").resolve("7JVPB");class I extends n{constructor(i){super(i),this.tardisOrigin={x:i.x,y:i.y},this.tardisSize={x:40,y:80},this.tardisImg=new Image,this.tardisImg.src=e(z)}update(){}keyboard_event(i){}draw(i,e){i.drawImage(this.tardisImg,this.tardisOrigin.x,this.tardisOrigin.y,this.tardisSize.x,this.tardisSize.y)}}window.onload=()=>{var i=document.getElementById("canvas").getContext("2d");let e=new f({x:40,y:40}),s=new a({x:0,y:0}),r=new p({x:10,y:20}),t=new I({x:960,y:920}),W=[s,r,e,t,new d({x:120,y:360}),new d({x:480,y:240}),new d({x:200,y:880}),new d({x:800,y:240}),new d({x:560,y:800}),new d({x:880,y:680})];let n=0;const o=s=>{let r=(s-n)/1e3;n=s,W.forEach((i=>i.update(r))),i.clearRect(0,0,1020,1024),W.forEach((e=>{i.save(),e.draw(i,r),i.restore()})),(()=>{for(let i=0;i<W.length;i++)if(W[i]instanceof d&&W[i].getPos().x==e.getPos().x&&W[i].getPos().y==e.getPos().y)return!0;return!1})()&&(e=new f({x:40,y:40}),W[2]=e),window.requestAnimationFrame(o)};window.requestAnimationFrame(o),document.body.addEventListener("keydown",(i=>{W.forEach((e=>{e.keyboard_event&&e.keyboard_event(i.key)}))}))};
//# sourceMappingURL=index.33954870.js.map
